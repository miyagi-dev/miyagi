{% extends "@miyagi/layouts/iframe_index.twig" %}
	{% block additionalCss %}
    {% for file in additionalCssFiles %}
    <link rel="stylesheet" href="{{ file }}">
    {% endfor %}
  {% endblock %}
  {% block content %}
    <div class="MiyagiWrapper">
      <div class="MiyagiContent">
        <div class="MiyagiDocumentation">
          <h1>{{ userProjectName }}</h1>
          {{ documentation }}
        </div>

        <div class="MiyagiStyleguide" data-media-queries='{{ mediaQueries }}'>
          <ul class="MiyagiIndex">
            {% if colors %}
              <li class="MiyagiIndex-item"><a href="#colors">Colors</a></li>
            {% endif %}
            {% if fonts %}
              <li class="MiyagiIndex-item"><a href="#fonts">Fonts</a></li>
            {% endif %}
            {% if spacings %}
              <li class="MiyagiIndex-item"><a href="#spacings">Spacings</a></li>
            {% endif %}
          </ul>

          {% if colors %}
            <h2 class="Miyagi-sectionTitle" id="colors">Colors</h2>
            {% for color in colors %}
              {% if color.styles.length %}
                <ul class="MiyagiCustomPropsGroup MiyagiColors MiyagiColors--{{ color.type }}">
                  {% for style in color.styles %}
                    {% if style.customProp %}
                      <li class="MiyagiCustomProp MiyagiColors-item"
                        style="--color: var({{ style.customProp }});{% if style.isWhite %} --backdrop: #000;{% endif %}">
                        <button class="MiyagiCustomProp-button MiyagiColors-button"
                          aria-controls="styleguide-color-{{ style.name }}" aria-expanded="false" {% if style.type %}
                          data-type="{{ style.type }}" {% endif %}>
                          <span class="MiyagiColors-prop MiyagiCustomProp-prop">{{ style.name }}</span>
                        </button>
                        <dl class="MiyagiCustomProp-details" id="styleguide-color-{{ style.name }}" hidden>
                          <dt class="MiyagiCustomProp-detailsProperty">Name</dt>
                          <dd class="MiyagiCustomProp-detailsValue">{{ style.customProp }}</dd>
                          {% for value in style.values %}
                            <dt class="MiyagiCustomProp-detailsProperty">{{ value }}</dt>
                            <dd class="MiyagiCustomProp-detailsValue" data-value="{{ value }}"></dd>
                          {% endfor %}
                        </dl>
                      </li>
                    {% endif %}
                  {% endfor %}
                </ul>
              {% endif %}
            {% endfor %}
          {% endif %}
					{% if fonts %}
            <h2 class="Miyagi-sectionTitle" id="fonts">Fonts</h2>
            <ul class="MiyagiCustomPropsGroup MiyagiFonts">
              {% for font in fonts %}
                {% if font[1].customProp %}
                  <li class="MiyagiCustomProp MiyagiFonts-item"
                    style='{% for value in font[1].values %}--{{ value.label }}: var({{ value.value }});{% endfor %}'>
                    <button class="MiyagiFonts-button MiyagiCustomProp-button"
                      aria-controls="styleguide-fonts-{{ font[0] }}" aria-expanded="false">
                      <span class="MiyagiFonts-prop MiyagiCustomProp-prop">{{ font[0] }}</span>
                    </button>
                    <dl class="MiyagiCustomProp-details" id="styleguide-fonts-{{ font[0] }}" hidden>
                      <dt class="MiyagiCustomProp-detailsProperty">Name</dt>
                      <dd class="MiyagiCustomProp-detailsValue">{{ font[1].customProp }}</dd>
                      {% for value in font[1].values %}
                        <dt class="MiyagiCustomProp-detailsProperty">{{ value.label }}</dt>
                        <dd class="MiyagiCustomProp-detailsValue" data-value="{{ value.value }}"></dd>
                      {% endfor %}
                    </dl>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endif %}
					{% if spacings %}
            <h2 class="Miyagi-sectionTitle" id="spacings">Spacings</h2>
            <ul class="MiyagiCustomPropsGroup MiyagiSpacings">
              {% for spacing in spacings %}
                {% if spacing[1].customProp %}
                  <li class="MiyagiCustomProp MiyagiSpacings-item" style="--spacing: var({{ spacing[1].customProp }});">
                    <button class="MiyagiSpacings-button MiyagiCustomProp-button"
                      aria-controls="styleguide-spacings-{{ spacing[0] }}" aria-expanded="false">
                      <span class="MiyagiSpacings-prop MiyagiCustomProp-prop">{{ spacing[0] }}</span>
                    </button>
                    <dl class="MiyagiCustomProp-details" id="styleguide-spacings-{{ spacing[0] }}" hidden>
                      <dt class="MiyagiCustomProp-detailsProperty">Name</dt>
                      <dd class="MiyagiCustomProp-detailsValue">{{ spacing[1].customProp }}</dd>
                      <dt class="MiyagiCustomProp-detailsProperty">Size</dt>
                      <dd class="MiyagiCustomProp-detailsValue" data-value="{{ spacing[1].customProp }}"></dd>
                    </dl>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </div>
    </div>
  {% endblock %}
